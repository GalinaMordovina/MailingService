# Сервис управления рассылками (Django)
 
Цель — разработать сервис управления рассылками, клиентами и сообщениями, а также собирать статистику по попыткам отправки.

Проект реализуется в два этапа:

- **Часть 1 (текущий модуль)** - структура проекта, модели, CRUD, интерфейс шаблонов, отправка рассылок по требованию.
- **Часть 2 (следующий модуль)** - аутентификация, права доступа, статистика, кеширование и дополнительные фичи.

---

## Функциональность (Часть 1)

### 1. Управление клиентами

Модель **Client** (получатель рассылки):

- `email` — Email (уникальный)
- `full_name` — Ф. И. О.
- `comment` — комментарий

Реализовано:

- создание, просмотр, редактирование и удаление клиентов (CRUD)
- отображение списка клиентов

---

### 2. Управление сообщениями

Модель **Message**:

- `subject` — тема письма
- `body` — тело письма

Реализовано:

- CRUD для шаблонов сообщений

---

### 3. Управление рассылками

Модель **Mailing**:

- `start_datetime` — дата и время первой отправки
- `end_datetime` — дата и время окончания отправки
- `status` — статус (`Создана`, `Запущена`, `Завершена`)
- `message` — связь с моделью `Message`
- `clients` — получатели (связь многие-ко-многим с `Client`)

Реализовано:

- CRUD для рассылок
- выбор сообщения и клиентов при создании/редактировании рассылки

---

### 4. Попытки рассылок и отправка

Модель **Attempt**:

- `created_at` — дата и время попытки
- `status` — статус (`Успешно`, `Не успешно`)
- `server_response` — ответ почтового сервера
- `mailing` — ссылка на рассылку

Реализовано:

- функция отправки рассылки по требованию
- создание записи Attempt для каждой попытки отправки письма
- запуск отправки:
  - из веб-интерфейса (кнопка на странице рассылки)
  - из командной строки (management-команда)

---

### 5. Главная страница

Главная страница отображает:

- количество всех рассылок
- количество активных рассылок (со статусом `Запущена`)
- количество уникальных получателей

---

## План на Часть 2 (пока не реализовано)

- Регистрация и аутентификация пользователей
- Разделение прав доступа (пользователь / менеджер)
- Статистика и отчеты по рассылкам и попыткам отправки
- Кеширование страниц и/или блоков
- Автоматическая отправка по расписанию (`django-apscheduler` или аналог)
- Логирование основных операций и ошибок

---

## Технологии

- Python 3.x
- Django 4.x (или актуальная версия из `requirements.txt`)
- SQLite (по умолчанию)
- Bootstrap 5 для базовой стилизации интерфейса

---

## Как запустить проект локально

```bash
# Клонировать репозиторий
git clone https://github.com/<ваш_никнейм>/<название_репозитория>.git
cd <название_репозитория>

# Создать и активировать виртуальное окружение (пример для Windows)
python -m venv venv
venv\Scripts\activate

# Установить зависимости
pip install -r requirements.txt  # если есть
# или
pip install django

# Применить миграции
python manage.py migrate

# Создать суперпользователя (для админки)
python manage.py createsuperuser

# Запустить сервер разработчика
python manage.py runserver
